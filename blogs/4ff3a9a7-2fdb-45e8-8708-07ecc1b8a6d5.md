---
uuid: 4ff3a9a7-2fdb-45e8-8708-07ecc1b8a6d5
description: 
title: [714]Â Best Time to Buy and Sell Stock with Transaction Fee
tags: [ LeetCode, Medium ]
date: 2022-10-22T15:00:00.000Z
---







### ë§í¬

[Best Time to Buy and Sell Stock with Transaction Fee - LeetCode](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)

### ğŸ“ ë¬¸ì œ

You are given an arrayÂ `prices`Â whereÂ `prices[i]`Â is the price of a given stock on theÂ `ith`Â day, and an integerÂ `fee`Â representing a transaction fee.

Find the maximum profit you can achieve. You may complete as many transactions as you like, but you need to pay the transaction fee for each transaction.

**Note:**Â You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).

*INPUT*

*OUTPUT*

```jsx
prices = [1,3,2,8,4,9], fee = 2
```

```jsx
8
```

### ğŸš¨ ì˜¤ë¥˜

<aside>
ğŸ•§

</aside>

### âœ”ï¸ í’€ì´

```jsx
/**
 * @param {number[]} prices
 * @param {number} fee
 * @return {number}
 */
var maxProfit = function(prices, fee) {
    const len = prices.length;
    let cash = 0;
    let hold = -prices[0];
    
    for(let i = 1; i < prices.length; i++) {
        cash = Math.max(cash, hold + prices[i] - fee);
        hold = Math.max(hold, cash - prices[i]);
    }
    
    return cash;
};
```