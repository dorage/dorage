---
uuid: 80688a9a-ae07-4579-8f81-e4857a923a23
description: 
title: [1655] Í∞ÄÏö¥Îç∞Î•º ÎßêÌï¥Ïöî
tags: [  ]
date: 2022-02-12T15:00:00.000Z
---







### ÎßÅÌÅ¨

[https://www.acmicpc.net/problem/1655](https://www.acmicpc.net/problem/1655)

### üìù Î¨∏Ï†ú

*INPUT*

*OUTPUT*

```jsx
7
1
5
2
10
-99
7
5
```

```jsx
1
1
2
2
2
2
5
```

### üö® Ïò§Î•ò

<aside>
üïß

</aside>

### ‚úîÔ∏è ÌíÄÏù¥

[Í∞ÄÏö¥Îç∞Î•º ÎßêÌï¥Ïöî](%E1%84%80%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%A6%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%86%E1%85%A1%E1%86%AF%E1%84%92%E1%85%A2%E1%84%8B%E1%85%AD%20376ed8a6aa304aa9acc4531b31b61b18.md)

Ïù¥Ï†ÑÏóêÎèÑ Ìïú Î≤à ÌíÄÏñ¥Î≥∏ Ï†ÅÏù¥ ÏûàÏóàÎã§.

Í∑∏ Îïê ÏµúÏÜåÌûô ÏµúÎåÄÌûôÏù¥ÎûÄ ÏûêÎ£åÍµ¨Ï°∞Î•º Î™∞ÎùºÏÑú Î™ªÌíÄÏóàÎã§Î©¥ Ïù¥Î≤àÏóî ÏïÑÎäîÎç∞ÎèÑ Î™ªÌíÄÍ≤†Îã§..

Ï∞∏ÏúºÎ°ú Ïñ¥Î†§Ïö¥ Î¨∏Ï†úÎã§.

Î∞òÎ°ÄÍ∞Ä ÏûàÏùÑÍ≤É Í∞ôÏùÄÎç∞ Î™ªÏ∞æÍ≤†Ïñ¥ÏÑú Î∞±Ï§ÄÏóê ÏßàÎ¨∏ÏùÑ Ïò¨Î†§ÎÜìÏïòÎã§.

```jsx
const input = [];
const test = true;

const testLog = (...args) => (test ? console.log(...args) : undefined);

require('readline')
    .createInterface({
        input: process.stdin,
        output: process.stdout,
    })
    .on('line', (l) => input.push(l))
    .on('close', () => solution(input));

function solution(input) {
    const result = [];
    const n = Number(input.shift());
    const max = [];
    const maxCondition = (A, i, j) => A[i] > A[j];
    const maxPush = (n) => push(max, n, maxCondition);
    const maxHeapify = () => heapify(max, 0, maxCondition);
    const min = [];
    const minCondition = (A, i, j) => A[i] < A[j];
    const minPush = (n) => push(min, n, minCondition);
    const minHeapify = () => heapify(min, 0, minCondition);

    for (let i = 0; i < n; i++) {
        const m = Number(input[i]);
        // ÏßùÏàò Î≤àÏß∏
        if (i % 2 === 0) {
            // Îπà Í≤ΩÏö∞
            if (!max.length) {
                max.push(m);
            }
            // ÏµúÏÜåÌûô Î≥¥Îã§ ÌÅ∞ Í≤ΩÏö∞
            else if (m > min[0]) {
                swap(min, 0, min.length - 1);
                max.unshift(min.pop());
                minHeapify();
                minPush(m);
            } else {
                maxPush(m);
            }
        } else {
            // ÌôÄÏàò Î≤àÏß∏
            if (m < max[0]) {
                swap(max, 0, max.length - 1);
                min.unshift(max.pop());
                maxHeapify();
                maxPush(m);
            } else if (!min.length) {
                min.unshift(m);
            } else {
                minPush(m);
            }
        }

        testLog(`${m} = ${[...max].reverse().join(' ')} | ${min.join(' ')}`);

        result.push(max[0]);
    }
    console.log(result.join('\n'));
}

function swap(A, i, j) {
    const temp = A[i];
    A[i] = A[j];
    A[j] = temp;
}

function push(A, n, condition) {
    const getParent = (i) => Math.floor((i - 1) / 2);

    A.push(n);
    let current = A.length - 1;
    let parent = getParent(current);

    while (current > 0 && condition(A, current, parent)) {
        swap(A, current, parent);
        current = parent;
        parent = getParent(current);
    }
}
function heapify(A, i, condition) {
    const left = 2 * i + 1;
    const right = 2 * i + 2;

    let idx = i;
    if (left < A.length && condition(A, left, idx)) {
        idx = left;
    }
    if (right < A.length && condition(A, right, idx)) {
        idx = right;
    }
    if (idx !== i) {
        swap(A, i, idx);
        heapify(A, idx, condition);
    }
}

(() => {
    if (!test) return;
    solution([9, 1, -2, 3, -4, 5, -6, 7, -8, 9]);
    testLog('--');
    solution([9, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
    testLog('--');
    solution([9, 9, 8, 7, 6, 5, 4, 3, 2, 1]);
    testLog('--');
    solution([5, 1, -1, 1, -1, 1]);
    testLog('--');
    solution([5, 1, 0, 2, -1, 3]);
    testLog('--');
    solution([5, 4, 0, 3, 1, 2]);
    testLog('--');
    solution([1, 100]);
    testLog('--');
    solution([5, 1, 1, 1, 1, 1]);
    testLog('--');
    solution([7, 1, 5, 2, 10, -99, 7, 5]);
    testLog('--');
    solution([10, 1, 1, -1, -1, -1, 1, 1, 1, -1, -1]);
})();
```

### TRY #2

Ï°∞Í±¥Î¨∏Ïù¥ Î≥µÏû°ÌïòÎ©¥ ÌôïÏã§Ìûà ÎåÄÏùëÏù¥ Ïñ¥Î†µÍ≥† Ïñ¥Îñ§ Î∂ÄÎ∂ÑÏóêÏÑú Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌïòÎäîÏßÄ ÏïåÍ∏∞ Ïñ¥Î†§Ïö¥Í≤ÉÍ∞ôÎã§.

solution ÎÇ¥Î∂ÄÏùò Î£®ÌîÑÎ•º Îã®ÏàúÌïòÍ≤å Î≥ÄÍ≤ΩÌñàÎã§.

maxHeapÏù¥ Î®ºÏ†Ä Ï±ÑÏõåÏ†∏Ïïº ÌïòÎãà maxHeapÏóê Ïö∞ÏÑ†Ï†ÅÏúºÎ°ú ÏÇΩÏûÖÌïòÍ≥†, ÎßåÏïΩ maxHeapÏùò Î£®Ìä∏ÎÖ∏ÎìúÍ∞Ä minHeapÏùò Î£®Ìä∏ÎÖ∏ÎìúÎ≥¥Îã§ ÌÅ¨Îã§Î©¥ Îëê ÎÖ∏ÎìúÎ•º Ïä§ÏôëÏãúÌÇ® Îí§, Í∞Å heapÏù¥ Ï°∞Í±¥ÏùÑ ÎßåÏ°±Ìï† Ïàò ÏûàÍ≤å Î≥ÄÍ≤ΩÌï¥Ï£ºÎäî Î∞©ÏãùÏúºÎ°ú Î≥ÄÍ≤ΩÌñàÎã§.

19Î≤à Ï†úÏ∂úÌï¥ÏÑú ÎìúÎîîÏñ¥ ÏÑ±Í≥µÌñàÎã§. ÌõÑÌõÑ

```jsx
const input = [];
const test = false;

const testLog = (...args) => (test ? console.log(...args) : undefined);

require('readline')
    .createInterface({
        input: process.stdin,
        output: process.stdout,
    })
    .on('line', (l) => input.push(l))
    .on('close', () => solution(input));

function solution(input) {
    const result = [];
    const n = Number(input.shift());
    const max = [];
    const maxCondition = (A, i, j) => A[i] > A[j];
    const maxPush = (n) => push(max, n, maxCondition);
    const maxHeapify = () => heapify(max, 0, maxCondition);
    const min = [];
    const minCondition = (A, i, j) => A[i] < A[j];
    const minPush = (n) => push(min, n, minCondition);
    const minHeapify = () => heapify(min, 0, minCondition);

    for (let i = 0; i < n; i++) {
        const m = Number(input[i]);
        // Ìï≠ÏÉÅ ÏôºÏ™ΩÏù¥ Î®ºÏ†Ä Ï±ÑÏõåÏ†∏Ïïº ÌïòÎØÄÎ°ú
        if (max.length <= min.length) {
            maxPush(m);
        } else {
            minPush(m);
        }
        // swapÏù¥ Î∞úÏÉùÌïòÎäî Í≤ΩÏö∞
        if (max[0] > min[0]) {
            // Í∞Å ÌûôÏùò Î£®Ìä∏ÎÖ∏ÎìúÎ•º swap
            const temp = max[0];
            max[0] = min[0];
            min[0] = temp;
            // ÌûôÏùÑ ÌôïÏù∏
            maxHeapify();
            minHeapify();
        }

        testLog(`${m} = ${[...max].reverse().join(' ')} | ${min.join(' ')}`);

        result.push(max[0]);
    }
    console.log(result.join('\n'));
}

function swap(A, i, j) {
    const temp = A[i];
    A[i] = A[j];
    A[j] = temp;
}

function push(A, n, condition) {
    const getParent = (i) => Math.floor((i - 1) / 2);

    A.push(n);
    let current = A.length - 1;
    let parent = getParent(current);

    while (current > 0 && condition(A, current, parent)) {
        swap(A, current, parent);
        current = parent;
        parent = getParent(current);
    }
}
function heapify(A, i, condition) {
    const left = 2 * i + 1;
    const right = 2 * i + 2;

    let idx = i;
    if (left < A.length && condition(A, left, idx)) {
        idx = left;
    }
    if (right < A.length && condition(A, right, idx)) {
        idx = right;
    }
    if (idx !== i) {
        swap(A, i, idx);
        heapify(A, idx, condition);
    }
}

(() => {
    if (!test) return;
    solution([9, 1, -2, 3, -4, 5, -6, 7, -8, 9]);
    testLog('--');
    solution([9, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
    testLog('--');
    solution([9, 9, 8, 7, 6, 5, 4, 3, 2, 1]);
    testLog('--');
    solution([5, 1, -1, 1, -1, 1]);
    testLog('--');
    solution([5, 1, 0, 2, -1, 3]);
    testLog('--');
    solution([5, 4, 0, 3, 1, 2]);
    testLog('--');
    solution([1, 100]);
    testLog('--');
    solution([5, 1, 1, 1, 1, 1]);
    testLog('--');
    solution([7, 1, 5, 2, 10, -99, 7, 5]);
    testLog('--');
    solution([10, 1, 1, -1, -1, -1, 1, 1, 1, -1, -1]);
    testLog('--');
    solution([6, -1, 1, 2, -2, -3, 3]);
    testLog('--');
    solution([6, 5, -5, 4, -4, 3, -3]);
})();
```