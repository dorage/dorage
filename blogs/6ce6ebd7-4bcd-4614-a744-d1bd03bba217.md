---
uuid: 6ce6ebd7-4bcd-4614-a744-d1bd03bba217
description: 
title: [802]Â Find Eventual Safe States
tags: [ LeetCode, Medium ]
date: 2022-10-10T15:00:00.000Z
---







### ë§í¬

[Find Eventual Safe States - LeetCode](https://leetcode.com/problems/find-eventual-safe-states/)

### ğŸ“ ë¬¸ì œ

There is a directed graph ofÂ `n`Â nodes with each node labeled fromÂ `0`Â toÂ `n - 1`. The graph is represented by aÂ **0-indexed**Â 2D integer arrayÂ `graph`Â whereÂ `graph[i]`Â is an integer array of nodes adjacent to nodeÂ `i`, meaning there is an edge from nodeÂ `i`Â to each node inÂ `graph[i]`.

A node is aÂ **terminal node**Â if there are no outgoing edges. A node is aÂ **safe node**Â if every possible path starting from that node leads to aÂ **terminal node**Â (or another safe node).

ReturnÂ *an array containing all theÂ **safe nodes**Â of the graph*. The answer should be sorted inÂ **ascending**Â order.

*INPUT*

*OUTPUT*

```jsx
graph = [[1,2],[2,3],[5],[0],[5],[],[]]
```

```jsx
[2,4,5,6]
```

### ğŸš¨ ì˜¤ë¥˜

<aside>
ğŸ•§

</aside>

### âœ”ï¸ í’€ì´

```jsx
/**
 * @param {number[][]} graph
 * @return {number[]}
 */
var eventualSafeNodes = function(graph) {
    const len = graph.length;
    const memo = Array(len).fill(undefined);
    const answer = [];
    
    for(let i = 0; i < graph.length; i++) {
        if(memo[i] == null) memo[i] = DFS(graph, i, memo, new Set())
        if(memo[i]) answer.push(i);
    }
    
    return answer;
};

function DFS(graph, i, memo, visited) {
    if(visited.has(i)) return false;
    visited.add(i);
    
    if(memo[i] == null) {
        let every = true;
    
        for(const idx of graph[i]){
            every = DFS(graph, idx, memo, new Set([...visited]))
            if(!every) break;
        }
        memo[i] = every;
    }
    
    return memo[i];
}
```