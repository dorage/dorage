---
uuid: 507e3140-5ab6-45e8-89aa-bf37d237aa3d
description: 
title: [ALDS1_9_C] Priority Queue
tags: [ AOJ ]
date: 2022-02-10T15:00:00.000Z
---







### ë§í¬

[https://onlinejudge.u-aizu.ac.jp/courses/lesson/1/ALDS1/9/ALDS1_9_C](https://onlinejudge.u-aizu.ac.jp/courses/lesson/1/ALDS1/9/ALDS1_9_C)

### ğŸ“ ë¬¸ì œ

ìµœëŒ€ ìš°ì„ ìˆœìœ„ íë¥¼ êµ¬ì„±í•˜ëŠ” ë¬¸ì œë¡œ ë‹¤ìŒ ëª…ë ¹ì–´ë“¤ì´ ì£¼ì–´ì§€ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì²˜ë¦¬ë¥¼ í•´ì•¼í•œë‹¤

insert n : nì„ ìš°ì„ ìˆœìœ„íì— ì‚½ì…í•œë‹¤

extract : ìµœëŒ“ê°’ì„ êº¼ë‚´ì–´ ì¶œë ¥í•œë‹¤

end : ì¢…ë£Œ

*INPUT*

*OUTPUT*

```jsx
insert 8
insert 2
extract
insert 10
extract
insert 11
extract
extract
end
```

```jsx
8
10
11
2
```

### ğŸš¨ ì˜¤ë¥˜

<aside>
ğŸ•§

</aside>

### âœ”ï¸ í’€ì´

ì²˜ìŒì—” ë‹¨ìˆœíˆ ìµœëŒ€í™ì„ êµ¬ì„±í•˜ë©´ ë ê±°ë¼ ìƒê°í–ˆì§€ë§Œ.. ì‹œê°„ ì´ˆê³¼ë¡œ í’€ì´ë¥¼ í•  ìˆ˜ ì—†ì—ˆë‹¤.

ê·¸ ë‹¤ìŒì€ ë” ë‹¨ìˆœí™”ì‹œì¼œ insertì—ëŠ” ë¶€ëª¨ì™€ë§Œ ë¹„êµí•˜ë©° ê°’ì„ êµì²´í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì—°ì‚°ì„ í¬ê²Œ ì¤„ì˜€ë‹¤.

extractê°€ ë¬¸ì œì˜€ëŠ”ë° ìƒê°í•´ë³´ë‹ˆ ìì‹ì„ ê°–ê³ ìˆëŠ” ëª¨ë“  ë¶€ëª¨ë…¸ë“œì— ëŒ€í•œ maxHeapifyë¥¼ í•  í•„ìš”ê°€ ì—†ì—ˆë‹¤. ë£¨íŠ¸ ë…¸ë“œì—ë§Œ ê±¸ì–´ì£¼ë©´ ë˜ëŠ” ë¬¸ì œì˜€ë‹¤.

ê·¸ë ‡ê²Œ í•´ì„œ ì‹œê°„ì´ˆê³¼ ì—†ì´ í’€ì´í•˜ì˜€ë‹¤.

```jsx
const input = [];

require('readline')
    .createInterface({ input: process.stdin, output: process.stdout })
    .on('line', (line) => {
        input.push(line);
    })
    .on('close', () => {
        solution(input);
    });

const solution = (input) => {
    const pQ = PriorityQueue();
    const result = [];
    for (const line of input) {
        const [cmd, n] = line.split(' ');
        switch (cmd) {
            case 'insert':
                pQ.insert(Number(n));
                break;
            case 'extract':
                result.push(pQ.extract());
                break;
            case 'end':
                console.log(result.join('\n'));
                return;
        }
    }
};

function PriorityQueue() {
    if (!new.target) return new PriorityQueue();
    this.Heap = [];
}

PriorityQueue.prototype.swap = function (i, j) {
    const temp = this.Heap[i];
    this.Heap[i] = this.Heap[j];
    this.Heap[j] = temp;
};
PriorityQueue.prototype.insert = function (n) {
    const calcParentIdx = (idx) => Math.floor((idx - 1) / 2);

    this.Heap.push(n);

    let current = this.Heap.length - 1;
    let parent = calcParentIdx(current);
    while (current > 0 && this.Heap[parent] < this.Heap[current]) {
        this.swap(parent, current);
        current = parent;
        parent = calcParentIdx(current);
    }
};
PriorityQueue.prototype.extract = function () {
    const maxHeapify = (i) => {
        const left = 2 * i + 1;
        const right = 2 * i + 2;

        let maxIdx = i;
        if (left < this.Heap.length && this.Heap[left] > this.Heap[maxIdx]) {
            maxIdx = left;
        }
        if (right < this.Heap.length && this.Heap[right] > this.Heap[maxIdx]) {
            maxIdx = right;
        }
        if (maxIdx !== i) {
            this.swap(i, maxIdx);
            maxHeapify(maxIdx);
        }
    };
    this.swap(0, this.Heap.length - 1);
    const output = this.Heap.pop();
    maxHeapify(0);
    return output;
};
```