---
uuid: f1f4d1c1-3c56-435a-b7b1-2d59b2b4ad35
description: 
title: [393]Â UTF-8 Validation
tags: [ Daily Challenge, LeetCode, Medium ]
date: 2022-09-12T15:00:00.000Z
---







### ë§í¬

[https://leetcode.com/problems/utf-8-validation/](https://leetcode.com/problems/utf-8-validation/)

### ğŸ“ ë¬¸ì œ

Given an integer arrayÂ `data`Â representing the data, return whether it is a validÂ **UTF-8**Â encoding (i.e. it translates to a sequence of valid UTF-8 encoded characters).

A character inÂ **UTF8**Â can be fromÂ **1 to 4 bytes**Â long, subjected to the following rules:

1. For aÂ **1-byte**Â character, the first bit is aÂ `0`, followed by its Unicode code.
2. For anÂ **n-bytes**Â character, the firstÂ `n`Â bits are all one's, theÂ `n + 1`Â bit isÂ `0`, followed byÂ `n - 1`Â bytes with the most significantÂ `2`Â bits beingÂ `10`.

This is how the UTF-8 encoding would work:

```
     Number of Bytes   |        UTF-8 Octet Sequence
                       |              (binary)
   --------------------+-----------------------------------------
            1          |   0xxxxxxx
            2          |   110xxxxx 10xxxxxx
            3          |   1110xxxx 10xxxxxx 10xxxxxx
            4          |   11110xxx 10xxxxxx 10xxxxxx 10xxxxxx

```

`x`Â denotes a bit in the binary form of a byte that may be eitherÂ `0`Â orÂ `1`.

**Note:**Â The input is an array of integers. Only theÂ **least significant 8 bits**Â of each integer is used to store the data. This means each integer represents only 1 byte of data.

*INPUT*

*OUTPUT*

```jsx

```

```jsx

```

### ğŸš¨ ì˜¤ë¥˜

<aside>
ğŸ•§

</aside>

### âœ”ï¸ í’€ì´

```jsx
const zfill = (bin, n) => '0'.repeat(n - bin.length) + bin;
const dec2bin = (dec) => zfill((dec >>> 0).toString(2), 8);

/**
 * @param {number[]} data
 * @return {boolean}
 */
var validUtf8 = function(data) {
    let cnt = 0;
    for(let i = 0; i < data.length; i++){
        const bin = dec2bin(data[i]);
        
        if(!cnt) {
            // 1byte
            if(bin[0] === '0') continue;
            // 2~4 byte
            
            if(bin.slice(0,3) === '110') {
                cnt = 1;
            }
            if(bin.slice(0,4) === '1110') {
                cnt = 2;
            }
            if(bin.slice(0,5) === '11110') {
                cnt = 3;
            }
            if(cnt === 0) return false;
            continue;
        }
        
        if(bin.slice(0,2) !== '10') return false;
        cnt--;
    }
    
    return cnt ? false : true;
};
```