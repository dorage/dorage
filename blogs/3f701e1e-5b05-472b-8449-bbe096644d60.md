---
uuid: 3f701e1e-5b05-472b-8449-bbe096644d60
description: 
title: [Web APIs] Web Animations API
tags: [ Web API ]
date: 2022-03-08T15:00:00.000Z
---








[Web Animations API - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API)

## Summary

Web Animations API ëŠ” DOM ìš”ì†Œë“¤ì˜ ì• ë‹ˆë©”ì´ì…˜ê³¼ ê°™ì€ ì›¹í˜ì´ì§€ì— í‘œì‹œë˜ëŠ” ê²ƒë“¤ì˜ ë™ê¸°í™”ì™€ ë³€ê²½ íƒ€ì´ë°ì„ ì¡ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. Timing Modelê³¼ Animation Modelì„ í•©ì³ì„œ ìˆ˜í–‰í•œë‹¤.

êµ¬ ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ í´ë¦¬í•„ì´ ì œê³µëœë‹¤

[https://github.com/web-animations/web-animations-js](https://github.com/web-animations/web-animations-js)

## **Concept and Usage**

Web Animations ApiëŠ” ë¸Œë¼ìš°ì €ì™€ ê°œë°œìê°€ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ì–¸ì–´ë¥¼ ì œê³µí•œë‹¤.

## Interfaces

`[Animation](https://developer.mozilla.org/en-US/docs/Web/API/Animation)`

Provides playback controls and a timeline for an animation node or source. Can take an object created with theÂ `[KeyframeEffect()](https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect/KeyframeEffect)`Â constructor.

`[KeyframeEffect](https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect)`

Describes sets of animatable properties and values, calledÂ **keyframes**Â and their timing options. These can then be played using theÂ `[Animation()](https://developer.mozilla.org/en-US/docs/Web/API/Animation/Animation)`Â constructor.

`[AnimationTimeline](https://developer.mozilla.org/en-US/docs/Web/API/AnimationTimeline)`

Represents the timeline of animation. This interface exists to define timeline features (inherited byÂ `[DocumentTimeline](https://developer.mozilla.org/en-US/docs/Web/API/DocumentTimeline)`Â and future timeline objects) and is not itself accessed by developers.

`[AnimationEvent](https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent)`

Actually part of CSS Animations.

`[DocumentTimeline](https://developer.mozilla.org/en-US/docs/Web/API/DocumentTimeline)`

Represents animation timelines, including the default document timeline (accessed using theÂ `[Document.timeline](https://developer.mozilla.org/en-US/docs/Web/API/Document/timeline)`Â property).

Web Animations APIëŠ” document ì™€ element ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•œë‹¤.

`[document.timeline](https://developer.mozilla.org/en-US/docs/Web/API/Document/timeline)`

TheÂ `DocumentTimeline`Â object representing the default document timeline.

`[document.getAnimations()](https://developer.mozilla.org/en-US/docs/Web/API/Document/getAnimations)`

Returns an Array ofÂ `[Animation](https://developer.mozilla.org/en-US/docs/Web/API/Animation)`Â objects currently in effect on elements in theÂ `document`.

`[Element.animate()](https://developer.mozilla.org/en-US/docs/Web/API/Element/animate)`

A shortcut method for creating and playing an animation on an element. It returns the createdÂ `[Animation](https://developer.mozilla.org/en-US/docs/Web/API/Animation)`Â object instance.

`[Element.getAnimations()](https://developer.mozilla.org/en-US/docs/Web/API/Element/getAnimations)`

Returns an Array ofÂ `[Animation](https://developer.mozilla.org/en-US/docs/Web/API/Animation)`Â objects currently affecting an element or which are scheduled to do so in future.

## Examples

### Link

[Using the Web Animations API - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Using_the_Web_Animations_API)

## Web Animations API ì‚¬ìš©í•´ë³´ê¸°

ì›¹ ì• ë‹ˆë©”ì´ì…˜ APIë¥¼ ì‚¬ìš©í•˜ë©´ requestAnimationFrameê³¼ ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì™„ë²½í•œ ì• ë‹ˆë©”ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ì´ APIëŠ” CSS ì• ë‹ˆë©”ì´ì…˜ê³¼ CSS íŠ¸ëœì§€ì…˜ì„ ë°”íƒ•ìœ¼ë¡œ ê³ ì•ˆë˜ì—ˆë‹¤.

[Down the Rabbit Hole (with CSS Animations)](https://codepen.io/rachelnabors/pen/QyOqqW)

![Untitled](https://vault-r2.dorage.io/3f701e1e-5b05-472b-8449-bbe096644d60/untitled.png)

```css
#alice {
  animation: aliceTumbling infinite 3s linear;
}

@keyframes aliceTumbling {
  0% {
    color: #000;
    transform: rotate(0) translate3D(-50%, -50%, 0);
  }
  30% {
    color: #431236;
  }
  100% {
    color: #000;
    transform: rotate(360deg) translate3D(-50%, -50%, 0);
  }
}
```

### ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜

**í‚¤í”„ë ˆì„**

```jsx
const aliceTumbling = [
  { transform: 'rotate(0) translate3D(-50%, -50%, 0)', color: '#000' },
  { color: '#431236' },
  { transform: 'rotate(360deg) translate3D(-50%, -50%, 0)', color: '#000' }
]; // 0% -> 50% -> 100%

const aliceTumbling = [
  { transform: 'rotate(0) translate3D(-50%, -50%, 0)', color: '#000' },
  { color: '#431236', **offset: 0.3** },
  { transform: 'rotate(360deg) translate3D(-50%, -50%, 0)', color: '#000' }
]; // 0% -> 30% -> 100%
```

ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„ CSSë¥¼ Keyframe Objectì˜ ë°°ì—´ë¡œ ë³€í™˜í–ˆë‹¤.

[Keyframe Formats - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats)

Web Animations APIëŠ” ëª…ì‹œì ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ ê° í‚¤ì˜ í¼ì„¼í…Œì´ì§€ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ìë™ìœ¼ë¡œ ì „ë‹¬ëœ í‚¤ì˜ ê°œìˆ˜ë§Œí¼ íƒ€ì´ë°ì„ ë¶„ë°°í•˜ê²Œ ëœë‹¤.

ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œì˜ 2ë²ˆì§¸ Keyframe ObjectëŠ” 50%ì— ì§€ì ì—ì„œì˜ ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœê°€ ëœë‹¤.

ëª…ì‹œì ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ì˜ íƒ€ì´ë°ì„ ì¡°ì •í•˜ê¸° ìœ„í•´ì„  offset í”„ë¡œí¼í‹°(0.0 ~ 1.0)ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

í˜„ì¬ Keyframe ObjectëŠ” ìµœì†Œ 2ê°œê°€ ì£¼ì–´ì ¸ì•¼ì§€ë§Œ Element.animate()ë¥¼ í†µí•´ ë™ì‘í•œë‹¤.

ë§Œì•½ í•œê°œì˜ í‚¤í”„ë ˆì„ë§Œ ì£¼ì–´ì¡Œì„ ê²½ìš° NotSupportedError DOMException ì´ ë°œìƒí•œë‹¤

**íƒ€ì´ë°**

```jsx
const aliceTiming = {
	duration: 3000, // ms
	iterations: Infinity
}
```

CSSì™€ ë‹¤ìŒê³¼ ê°™ì€ ì°¨ì´ì ì´ ìˆë‹¤.

- ì‹œê°„ì˜ ë‹¨ìœ„ê°€ secondì—ì„œ millisecond ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.
- CSSì—ì„  attributeì˜ ëª…ì´ iteration-count ì˜€ìœ¼ë‚˜ interationsìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤
- CSS ê°’ì¸ Stringìœ¼ë¡œ â€˜infiniteâ€™ ê°€ ì•„ë‹Œ Numberì˜ ë¬´í•œëŒ€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìˆ«ìê°’ Infinity ê°€ ì‚¬ìš©ë˜ì—ˆë‹¤.

<aside>
ğŸš§ Web Animations APIì—ì„œ ì‚¬ìš©ë˜ëŠ” ìš©ì–´ì™€ CSS ì• ë‹ˆë©”ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ë“¤ì˜ ì°¨ì´ì ì´ ì¼ë¶€ ìˆë‹¤.
â€infiniteâ€ ê°€ ì•„ë‹Œ Infinityë¥¼ ì‚¬ìš©í•œë‹¤ë˜ê°€ CSS animation-timing-function ì˜ ê¸°ë³¸ ê°’ì€ ease ì˜€ìœ¼ë‚˜, Web Animation APIì—ì„  linearì´ë©° easingê°’ì„ ë‚˜ì—´í•˜ì§€ ì•ŠëŠ”ë‹¤.

</aside>

**í•©ì¹˜ê¸°**

```jsx
document.getElementById("alice").animate(
	aliceTumbling,
	aliceTiming,
)
```

animate() ë©”ì†Œë“œëŠ” CSS ì• ë‹ˆë©”ì´ì…˜ ì ìš©ì´ ê°€ëŠ¥í•œ ëª¨ë“  DOMìš”ì†Œì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.

ë§Œì•½, ì• ë‹ˆë©”ì´ì…˜ì´ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ê¸¸ ì›í•œë‹¤ë©´ ë‘ ë²ˆì§¸ ì¸ìë¡œ millisecondë§Œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.

```jsx
document.getElementById("alice").animate(
	aliceTumbling,
	3000,
)
```

## ì¬ìƒ ì»¨íŠ¸ë¡¤í•˜ê¸°

[Growing/Shrinking Alice Game : Alice in Web Animations API Land](https://codepen.io/rachelnabors/pen/PNYGZQ)

```jsx
const nommingCake = document.getElementById('eat-me_sprite').animate(
[
  { transform: 'translateY(0)' },
  { transform: 'translateY(-80%)' }
], {
  fill: 'forwards',
  easing: 'steps(4, end)',
  duration: aliceChange.effect.getComputedTiming().duration / 2
});
nommingCake.pause();
```

ì»µì¼€ì´í¬ì˜ ì• ë‹ˆë©”ì´ì…˜ì— ëŒ€í•˜ì—¬ ë§Œ ì´ì•¼ê¸°í•œë‹¤.

Element.animate() ë©”ì†Œë“œëŠ” ì¦‰ì‹œ ì‹¤í–‰ ë˜ê²Œ ë” í˜¸ì¶œëœë‹¤.

í•˜ì§€ë§Œ ê·¸ê²ƒì„ ë§‰ê¸° ìœ„í•´ Animation.pause()ë¡œ ë°”ë¡œ ì• ë‹ˆë©”ì´ì…˜ì˜ ì‹¤í–‰ì„ ë©ˆì¶˜ë‹¤.

Animation.play()ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```jsx
nommingCake.play();
```

ì»µì¼€ì´í¬ë¥¼ ë¨¹ìœ¼ë©´ ì»¤ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ì´ ìˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

```jsx
const growAlice = function(){
	aliceChange.play();
	nommingCake.play();
}
```

ìœ ì €ê°€ ì»µì¼€ì´í¬ë¥¼ ë§ˆìš°ìŠ¤ í´ë¦­ì´ë‚˜ í„°ì¹˜í•˜ê³  ìˆì„ ë•Œ, ë™ì‘í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë¦¬ìŠ¤ë„ˆë¡œ ì—°ê²°í•´ì¤€ë‹¤.

```jsx
cake.addEventListener('mousedown', growAlice, false);
cake.addEventListener('touchstart', growAlice, false);
```

ë‹¤ìŒê³¼ ê°™ì€ ë©”ì†Œë“œë“¤ë„ ìˆë‹¤.

- Animation.finish() ì• ë‹ˆë©”ì´ì…˜ì„ ëê¹Œì§€ ìŠ¤í‚µí•œë‹¤
- Animation.cancel() ì• ë‹ˆë©”ì´ì…˜ì„ ì·¨ì†Œí•˜ê³  íš¨ê³¼ë¥¼ ì§€ìš´ë‹¤
- Animation.reverse() ì• ë‹ˆë©”ì´ì…˜ì˜ ì—­ì¬ìƒì„ ì„¤ì •í•œë‹¤
    
    ```jsx
    const anim = dom.animate(keyframes, durations);
    anim.pause();
    /* reverse()ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
    anim.playbackRate = -1;
    anim.play()
    */
    Animation.reverse()
    ```
    

## PlaybackRate ì¡°ì •í•˜ê¸°

[Red Queen&#39;s Race (with Web Animations API)](https://codepen.io/rachelnabors/pen/PNGGaV)

AliceëŠ” ì•„ì§ ì–´ë¦°ì•„ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê¸ˆë°© ì§€ì¹œë‹¤.

AliceëŠ” ì§€ì†ì ìœ¼ë¡œ ëŠë ¤ì§„ë‹¤.

ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ playbackRateì— ì§ì ‘ ê°’ì„ í• ë‹¹í•˜ì§€ ì•Šê³  updatePlaybackRate() ë¥¼ í†µí•´ playbackRateë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

```jsx
setInterval(function(){
	if(redQueen_alice.playbackRate > .4){
		redQueen_alice.updatePlaybackRate(redQueen_alice.playbackRate * .9)
	}
});
```

ë°˜ëŒ€ë¡œ, ì¬ì´‰í•˜ê¸° ìœ„í•´ í„°ì¹˜/í´ë¦­ì„ í•˜ë©´ ì•¨ë¦¬ìŠ¤ì˜ ì†ë„ëŠ” ë¹¨ë¼ì§„ë‹¤.

```jsx
const goFaster = function(){
	redQueen_alice.updatePlaybackRate(redqueen_alice.playbackRate * 1.1);
}
document.addEventListener("click", goFaster);
document.addEventListener("touchstart", goFaster);
```

## ì• ë‹ˆë©”ì´ì…˜ ì •ë³´ ì–»ê¸°

document.getAnimations ë©”ì†Œë“œë¡œ í˜ì´ì§€ ë‚´ì˜ ê° ì• ë‹ˆë©”ì´ì…˜ë“¤ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```jsx
document.getAnimations().forEach(
	function(animation){
		animation.updatePlaybackRate(animation.playbackRate * .5);
	}
);
```

ì¬ìƒì»¨íŠ¸ë¡¤í•˜ê¸°ì—ì„œ ë´¤ë˜ ì½”ë“œ ì¤‘ ë‹¤ìŒê³  ê°™ì€ ì½”ë“œê°€ ìˆë‹¤.

```jsx
duration: aliceChange.effect.getComputedTiming().duration / 2
```

ì´ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„  ì•¨ë¦¬ìŠ¤ì˜ ì• ë‹ˆë©”ì´ì…˜ì„ ë´ì•¼í•œë‹¤.

```jsx
var aliceChange = document.getElementById('alice').animate(
  [
    { transform: 'translate(-50%, -50%) scale(.5)' },
    { transform: 'translate(-50%, -50%) scale(2)' }
  ], {
    duration: 8000,
    easing: 'ease-in-out',
    fill: 'both'
  });
```

ì•¨ë¦¬ìŠ¤ëŠ” ì ˆë°˜ í¬ê¸°ì—ì„œ ì‹œì‘í•´ì„œ ì¤‘ê°„ í¬ê¸°ë¡œ ì»¤ì§„ë‹¤.

ì•¨ë¦¬ìŠ¤ì˜ ì• ë‹ˆë©”ì´ì…˜ì„ ì§€ì •í•œ í›„ ì• ë‹ˆë©”ì´ì…˜ì„ ì •ì§€ì‹œí‚¨ë‹¤.

ê·¸ë¦¬ê³  ì• ë‹ˆë©”ì´ì…˜ íƒ€ì„ë¼ì¸ì„ 4ì´ˆë¡œ ì§€ì •í•œë‹¤.

ì´ëŠ” ì•¨ë¦¬ìŠ¤ì˜ í¬ê¸°ê°€ 1.0x ë¡œ ë³´ì´ëŠ” ì§€ì ì´ë‹¤.

```jsx
aliceChange.currentTime = 4000;
```

ê·¸ëŸ¬ë‚˜ ì•¨ë¦¬ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ì˜ durationì„ ìì£¼ ë³€ê²½í•´ì•¼ í•œë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ Animation.effect í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ì•¨ë¦¬ìŠ¤ì˜ ì• ë‹ˆë©”ì´ì…˜ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

```jsx
aliceChange.currentTime = aliceChange.effect.getComputedTiming().duration / 2;
```

effect ëŠ” ì• ë‹ˆë©”ì´ì…˜ì˜ í‚¤í”„ë ˆì„ê³¼ íƒ€ì´ë° í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ìˆ˜ ì‡ê²Œ í•´ì¤€ë‹¤.

ì´ì œ ì´ë¥¼ ì¼€ìŒê³¼ ë³‘ì˜ durationì—ë„ ë‹¤ìŒê³¼ ê°™ì´ ì ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
var drinking = document.getElementById('liquid').animate(
[
  { height: '100%' },
  { height: '0' }
], {
  fill: 'forwards',
  duration: aliceChange.effect.getComputedTiming().duration / 2
});
drinking.pause();
```

ì´ì œ 3ê°€ì§€ ì• ë‹ˆë©”ì´ì…˜ì€ í•˜ë‚˜ì˜ duration í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆë‹¤.

ì´ì œ ì•¨ë¦¬ìŠ¤ì˜ durationë§Œ ë³€ê²½í•´ë„ ì¼€ìŒê³¼ ë³‘ì˜ duration ê°’ë„ í•¨ê»˜ ë³€ê²½ì´ ëœë‹¤.

ì´ì œ ì•¨ë¦¬ìŠ¤ì˜ í¬ê¸°ë¥¼ ì¸¡ì •í•˜ëŠ” ë°©ë²•ì´ë‹¤.

currentTime ì„ ì•¨ë¦¬ìŠ¤ì˜ activeDurationìœ¼ë¡œ ë‚˜ëˆ„ëŠ”ê²ƒìœ¼ë¡œ ê·¸ë…€ì˜ ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚¬ì„ë•Œ ì‘ì€ì§€ í°ì§€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.

```jsx
var endGame = function() {

  // get Alice's timeline's playhead location
  var alicePlayhead = aliceChange.currentTime;
  var aliceTimeline = aliceChange.effect.getComputedTiming().activeDuration;

  // stops Alice's and other animations
  stopPlayingAlice();

  // depending on which third it falls into
  var aliceHeight = alicePlayhead / aliceTimeline;

  if (aliceHeight <= .333){
    // Alice got smaller!
    ...

  } else if (aliceHeight >= .666) {
    // Alice got bigger!
    ...

  } else {
    // Alice didn't change significantly
    ...

  }
}
```

## ì½œë°±ê³¼ í”„ë¡œë¯¸ìŠ¤

CSS ì• ë‹ˆë©”ì´ì…˜ê³¼ íŠ¸ëœì§€ì…˜ì€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤í„°ë¥¼ ê°–ê³  ìˆë‹¤.

ì´ëŠ” Web Animations API ë˜í•œ ë§ˆì°¬ê°€ì§€ë‹¤

- onfinish
    
    finish ì´ë²¤íŠ¸ì˜ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë‹¤.
    
    finish() ë¡œ íŠ¸ë¦¬ê±° ë  ìˆ˜ ìˆë‹¤.
    
- oncancel
    
    cancel ì´ë²¤íŠ¸ì˜ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë‹¤.
    
    cancel() ë¡œ íŠ¸ë¦¬ê±° ë  ìˆ˜ ìˆë‹¤.
    

```jsx
nommingCake.onfinish = endGame;
drinking.onfinish = endGame;

aliceChange.onfinish = endGame;
```

Web Animations APIëŠ” finished í”„ë¡œë¯¸ìŠ¤ë¥¼ ì œê³µí•œë‹¤.

animationì´ finish ë˜ë©´ resolve, cancel ë˜ë©´ reject ëœë‹¤.

## ì½ì„ê±°ë¦¬

[Animating like you just don't care with Element.animate - Mozilla Hacks - the Web developer blog](https://hacks.mozilla.org/2016/08/animating-like-you-just-dont-care-with-element-animate/)