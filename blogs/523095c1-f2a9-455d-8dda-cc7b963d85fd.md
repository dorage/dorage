---
uuid: 523095c1-f2a9-455d-8dda-cc7b963d85fd
description: 
title:  HTTPS
tags: [ http ]
date: 2022-03-06T15:00:00.000Z
---








## HTTP의 약점

- **암호화하지 않은 평문 통신이기 때문에 도청 가능**
    
    TCP/IP는 도청 가능한 네트워크이다.
    
    패킷 캡쳐인 Wireshark라는 툴을 사용해서 HTTP를 사용한 라퀘스트와 리스폰스의 내용을 취득해서 해석 가능하다.
    
- **통신 상대를 확인하지 않기 때문에 위장 가능**
    
    HTTP에 의한 통신에는 상대가 누구인지 확인하는 처리가 없기 때문에 누구든지 리퀘스트를 보낼 수 있다. 또한, 리퀘스트가 오면 상대가 누구든지 리스폰스를 반환한다.
    
- **완전성을 증명할 수 없기 때문에 변조 가능**
    
    수신 중 내용이 변조되어도 이 사실을 서버/클라이언트에서 알 수 없다.
    

## HTTPS

HTTP에 암호화나 인증 등의 구조를 더한 것을 HTTPS(HTTP Secure)라고 부른다.

HTTPS는 새로운 애플리케이션 계층의 프로토콜이 아니다.

단지 HTTP 통신을 하는 소켓 부분을 SSL(Secure Socket Layer)나 TLS(Transport Layer Security)라는 프로토콜로 대체하고 있을 뿐이다.

![Untitled](https://vault-r2.dorage.io/523095c1-f2a9-455d-8dda-cc7b963d85fd/untitled.png)

### 공개키 암호화 방식

SSL은 공개키 암호화 방식을 사용하고 있음

암호화도 복호화도 같은 키를 사용하는 공동키 암호를 사용할 경우 네트워크를 통해 키를 전달할 때 탈취될 위험이 있다.

![Untitled](https://vault-r2.dorage.io/523095c1-f2a9-455d-8dda-cc7b963d85fd/untitled.png)

### 하이브리드 암호화 시스템

HTTPS는 공동키 암호와 공개키 암호의 양쪽 성질을 가진 하이브리드 암호 시스템이다.

공개키 암호는 공동키 암호에 비해서 처리속도가 늦다.

그래서 키를 교환하는 곳에서는 공개키 암호를 사용하고 그 후의 통신에서 메시지를 교환하는 곳에서는 공동키 암호를 사용한다.

### 증명서

공개키 암호에도 문제점이 있는데, 공개키가 진짜인지 아닌지를 증명할 수 없다는 점이다.

따라서, 증명을 위해 인증기관(CA, Certificate Authority)이 발행하는 공개키 증명서가 이용되고 있다.

인증기관은 서버와 클라이언트가 모두 신뢰하는 제 3자 기관이다.

### 인증기관의 이용방식

1. 서버의 운영자가 인증기관에 공개키를 제출
2. 인증기관은 제출된 공개키에 디지털 서명을 하고 서명이 끝난 공개키를 만듬
3. 공개키 인증서(디지털 증명서, 증명서)에 서명이 끝난 공개키를 담음
4. 서버는 이 공개키 인증서를 클라이언트에 발송하고 공개키 암호로 통신
5. 클라이언트는 증명기관의 공개키를 사용해서 서버의 공개키를 인증한 것이 진짜 인증기관이라는 것과 공개키를 신뢰할 수 있다는 것을 확인

인증기관의 공개키가 안전하게 클라이언트에 전달되도록 주요 인증 기관의 공개키를 사전에 브라우저에 내장한 상태로 출시한다.

### EV SSL

실제로 상대가 있는 기업인지를 확인하는 역할의 인증서

### 클라이언트 증명서

서버에서 통신하고 있는 상대가 의도한 클라이언트라는 것을 확인할 수 있는 증명서

다만 비용이 들게 되고 설치를 직접해줘야 하는 번거로움이 있어, 보안이 중요한 곳에서만 사용됨

다만 컴퓨터를 사용할 권한이 있다면 누구나 사용가능하므로 사용자의 존재 유무를 증명은 불가능

## HTTPS의 구조

![Untitled](https://vault-r2.dorage.io/523095c1-f2a9-455d-8dda-cc7b963d85fd/untitled.png)

## SSL과 TSL

TLS는 SSL3.0을 기반으로 한 프로토콜이다.

두 프로토콜을 총칭해서 SSL이라고 부르기도 한다.

## SSL은 느리다

SSL은 통신속도가 떨이지고 지연이 된다.

또한 CPU나 메모리 등의 리소스를 다량으로 소비한다.

HTTP보다 2배에서 100배정도 느려진다.

따라서, HTTPS 통신은 정말 필요한 곳에 사용하는것이 리소스 효율상 좋다.
