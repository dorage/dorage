---
uuid: e7092b73-7f41-4a9e-9afc-a77f27b1d955
description: 
title: [227]Â Basic Calculator II
tags: [ LeetCode, Medium ]
date: 2022-09-28T15:00:00.000Z
---







### ë§í¬

[Basic Calculator II - LeetCode](https://leetcode.com/problems/basic-calculator-ii/)

### ğŸ“ ë¬¸ì œ

Given a stringÂ `s`Â which represents an expression,Â *evaluate this expression and return its value*.

The integer division should truncate toward zero.

You may assume that the given expression is always valid. All intermediate results will be in the range ofÂ `[-231, 231Â - 1]`.

**Note:**Â You are not allowed to use any built-in function which evaluates strings as mathematical expressions, such asÂ `eval()`.

*INPUT*

*OUTPUT*

```jsx
s = "3+2*2"
```

```jsx
7
```

### ğŸš¨ ì˜¤ë¥˜

<aside>
ğŸ•§

</aside>

### âœ”ï¸ í’€ì´

Stack ë³´ë‹¤ëŠ” êµ¬í˜„ì— ê°€ê¹Œì› ë˜ ë¬¸ì œì´ë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ì¼€ì´ìŠ¤ë¥¼ ìƒê° í•´ì•¼ í•œë‹¤.

a + b +

a * b +

a + b *

a * b *

ë¶€í˜¸ê°€ +, - ì¼ ë•ŒëŠ” ì´ì „ ê³„ì‚°ì„ ëª¨ë‘ í•´ì£¼ë©´ ëœë‹¤.

ë‹¨ ë°”ë¡œ ì´ì „ ì—°ì‚°ìê°€ * , / ì¼ ê²½ìš°ì—ë§Œ ê°€ì¥ ë¨¼ì € ì´ë¥¼ ì—°ì‚°í•˜ê³  ì²˜ìŒë¶€í„° ì°¨ë¡€ë¡œ ì—°ì‚°í•˜ë©´ ëœë‹¤.

ë¶€í˜¸ê°€ *, / ì¼ ë•ŒëŠ” ì´ì „ ì—°ì‚°ìê°€ *, / ì¼ ê²½ìš° ì´ë¥¼ ë¨¼ì € í•´ì£¼ì–´ì•¼ í•œë‹¤.

ì´ì „ ì—°ì‚°ìê°€ +, -ì¼ ê²½ìš° ì´ëŠ” ìš°ì„ ìˆœìœ„ì—ì„œ ë°€ë¦¬ë¯€ë¡œ ì—°ì‚°í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤.

```jsx
const calc = (a, operator, b) => {
    switch(operator) {
        case '+' :
            return Number(a) + Number(b);
        case '-' :
            return Number(a) - Number(b);
        case '*' :
            return Number(a) * Number(b);
        case '/' :
         return Math.floor(Number(a) / Number(b));
    }
}
const reverseArgs = function () {
    const args = [...arguments].reverse();
    return (fn) => fn(...args);
}

/**
 * @param {string} s
 * @return {number}
 */
var calculate = function(s) {
    const stack = [];
    let n = "";
    let priority = false;
    
    for(const c of s) {
        if(c === ' ') continue;
        if(isNaN(c)) {
            stack.push(n);
            if(c === '+' || c === '-') {
                if(priority) stack.push(reverseArgs(stack.pop(), stack.pop(), stack.pop())(calc));
                while(stack.length > 1) {
                    stack.unshift(calc(stack.shift(), stack.shift(), stack.shift()));
                }
            }
            if(c === '*' || c === '/') {
                if(priority) stack.push(reverseArgs(stack.pop(), stack.pop(), stack.pop())(calc));
            }
            stack.push(c);
            n = "";
            priority = c === '*' || c === '/';
            continue;
        }
        n += c;
    }
    
    stack.push(n);
    if(priority) stack.push(reverseArgs(stack.pop(), stack.pop(), stack.pop())(calc));
    while(stack.length > 1) {
        stack.unshift(calc(stack.shift(), stack.shift(), stack.shift()));
    }
    
    return stack.pop();
};
```

Given a stringÂ `s`Â which represents an expression,Â *evaluate this expression and return its value*.

The integer division should truncate toward zero.

You may assume that the given expression is always valid. All intermediate results will be in the range ofÂ `[-231, 231Â - 1]`.

**Note:**Â You are not allowed to use any built-in function which evaluates strings as mathematical expressions, such asÂ `eval()`.