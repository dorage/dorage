---
uuid: b22cb21a-0d5e-49cd-ab20-ff1f10bb98ed
description: 
title: 실행컨텍스트
tags: [  ]
date: 2021-02-01T15:00:00.000Z
---







### 소스코드 타입

소스코드의 타입에 따라 실행컨텍스트의 생성 및 관리과정이 다르다.

- **전역 코드**
    
    전역에 존재하는 소스코드.
    
    전역에 존재하는 함수, 클래스 내부 코드는 포함하지 않는다.
    
    전역변수를 관리하기 위해 최상위 스코프인 전역스코프를 생성.
    
    전역코드가 평가되면 전역 실행컨텍스트를 생성
    
- **함수 코드**
    
    함수 내부에 존재하는 소스코드.
    
    함수 내부에 존재하는 중첩함수, 클래스 내부 코드는 포함하지 않는다.
    
    지역스코프를 생성 지역변수, 매개변수 arguments객체 관리.
    
    생성된 지역스코프를 전역스코프에서 시작하는 스코프체인의 일원으로 연결.
    
    함수코드가 평가되면 함수 실행컨텍스트를 생성
    
- **eval 코드**
    
    eval 함수에 인수로 전달되어 실행되는 소스코드.
    
    strict 모드에서 독자적인 자신만의 독자적인 스코프를 생성.
    
    eval 코드가 평가되면 eval 실행컨텍스트를 생성
    
- **모듈 코드**
    
    모듈 내부에 존재하는 소스코드.
    
    모듈 내부에 함수, 클래스 내부 코드는 포함하지 않는다.
    
    모듈 코드가 평가되면 모듈 실행컨텍스트가 생성
    

### 소스코드의 실행과 평가

js엔진은 소스코드의 실행과 평가의 과정을 나누어 처리한다.

![%E1%84%89%E1%85%B5%E1%86%AF%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%201b0f673bc19f4a7d8792922f52eebc4a/-1.jpg](https://vault-r2.dorage.io/b22cb21a-0d5e-49cd-ab20-ff1f10bb98ed/e1_84_89_e1_85_b5_e1_86_af_e1_84_92_e1_85_a2_e1_86_bc_e1_84_8f_e1_85_a5_e1_86_ab_e1_84_90_e1_85_a6_e1_86_a8_e1_84_89_e1_85_b3_e1_84_90_e1_85_b3_201b0f673bc19f4a7d8792922f52eebc4a_1_jpg.jpg)

### 실행컨텍스트

소스코드를 실행하는데 필요한 환경을 제공하고 코드의 실행결과를 실제로 관리하는 영역

<aside>
💡 **실행컨텍스트 = Lexical Environment + Variable Environment**

</aside>

→ Lexical Environment는 식별자, 식별자에 바인딩 된 값, 상위스코프에 대한 참조를 기록하는 자료구조

→ Lexical Environment 와 Variable Environment 는 초기에는 하나의 동일한 렉시컬 환경을 참조하지만, 이후 몇가지 상황을 만나면 Variable Environment를 위한 새로운 렉시컬 환경을 생성하고, Lexical Environment와 내용이 달라지는 경우가 있다.

<aside>
💡 **렉시컬환경 = 환경레코드 + 외부 렉시컬 환경에 대한 참조**

</aside>

→ 환경레코드는 식별자와 식별자에 바인딩된 값을 관리하는 저장소다.

→ 외부 렉시컬 환경에 대한 참조는 상위 스코프를 가리킨다.

**전역코드의 실행평가 과정**

소스코드가 로드되었을 때 JS엔진은 전역코드를 평가한다.

전역코드의 평가는 다음 순서로 진행된다.

1. 전역 실행컨텍스트 생성
2. 전역 렉시컬환경 생성
    1. 전역 환경레코드 생성
        1. 객체 환경레코드 생성
        2. 선언적 환경레코드 생성
    2. this바인딩
    3. 외부 렉시컬환경에 대한 참조
    

**함수코드의 실행평가 과정**

함수 실행문을 만나면 함수내부 코드를 평가한다.

함수코드의 평가는 다음 순서로 진행된다.

1. 함수 실행컨텍스트 생성
2. 함수 렉시컬환경 생성
    1. 함수 환경레코드 생성
    2. this바인딩
    3. 외부 렉시컬환경에 대한 참조
    

**함수 선언문 이외의 문에 대한 실행평가과정 (블록레벨 스코프)**

블록문을 실행할 때 평가되어 생성되고 블록문이 종료되면 이전의 렉시컬환경으로 돌아간다.

1. 블록 렉시컬환경 생성
2. 블록 환경레코드 생성
    1. 선언적 환경레코드 생성
    2. 외부 렉시컬환경에 대한 참조